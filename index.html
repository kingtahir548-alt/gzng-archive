<!DOCTYPE html>
<html lang="ku" dir="rtl" data-theme="light">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
Â  Â  <title>Gzng Archive System</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Rudaw:wght@400;700;900&family=Noto+Sans+Arabic:wght@300;400;700;800&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
Â  Â  <style>
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --bg-body: #f0f2f5; --bg-glass: rgba(255, 255, 255, 0.95); --bg-nav: rgba(255, 255, 255, 0.9);
Â  Â  Â  Â  Â  Â  --bg-card: #ffffff; --text-main: #1e293b; --text-light: #64748b;
Â  Â  Â  Â  Â  Â  --primary: #6366f1; --primary-gradient: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
Â  Â  Â  Â  Â  Â  --shadow: 0 4px 20px rgba(0, 0, 0, 0.08); --border: 1px solid rgba(0, 0, 0, 0.05); --radius: 16px;
Â  Â  Â  Â  Â  Â  --font-main: 'Noto Sans Arabic', 'Rudaw', sans-serif;
Â  Â  Â  Â  }
Â  Â  Â  Â  [data-theme="dark"] {
Â  Â  Â  Â  Â  Â  --bg-body: #0f172a; --bg-glass: rgba(30, 41, 59, 0.9); --bg-nav: rgba(15, 23, 42, 0.9);
Â  Â  Â  Â  Â  Â  --bg-card: #1e293b; --text-main: #f1f5f9; --text-light: #94a3b8;
Â  Â  Â  Â  Â  Â  --primary: #818cf8; --primary-gradient: linear-gradient(135deg, #818cf8 0%, #6366f1 100%);
Â  Â  Â  Â  Â  Â  --shadow: 0 4px 20px rgba(0, 0, 0, 0.3); --border: 1px solid rgba(255, 255, 255, 0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â  html[lang="en"] { --font-main: 'Roboto', sans-serif; }

Â  Â  Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
Â  Â  Â  Â  body { font-family: var(--font-main); background-color: var(--bg-body); min-height: 100vh; color: var(--text-main); overflow-x: hidden; padding-top: 80px; padding-bottom: 40px; transition: background-color 0.3s ease; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .glass { background: var(--bg-glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: var(--border); border-radius: var(--radius); box-shadow: var(--shadow); }
Â  Â  Â  Â  button { cursor: pointer; font-family: inherit; border: none; background: none; }

Â  Â  Â  Â  .navbar { position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; background: var(--bg-nav); backdrop-filter: blur(15px); border-bottom: var(--border); padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
Â  Â  Â  Â  .nav-brand { font-size: 1.3em; font-weight: 900; background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: flex; align-items: center; gap: 10px; }
Â  Â  Â  Â  .nav-logo-icon { width: 35px; height: 35px; background: var(--primary); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; }
Â  Â  Â  Â  .nav-right { display: flex; align-items: center; gap: 10px; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .icon-btn { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2em; transition: 0.3s; color: var(--text-main); font-weight: bold; border: 1px solid transparent; }
Â  Â  Â  Â  .icon-btn:hover { background: rgba(128,128,128,0.1); border-color: var(--border); }

Â  Â  Â  Â  .lang-dropdown { position: relative; }
Â  Â  Â  Â  .lang-menu {
Â  Â  Â  Â  Â  Â  position: absolute; top: 120%; left: -10px; background: var(--bg-card); border: var(--border); border-radius: 12px;
Â  Â  Â  Â  Â  Â  box-shadow: var(--shadow); width: 160px; display: none; flex-direction: column; overflow: hidden; z-index: 2000;
Â  Â  Â  Â  }
Â  Â  Â  Â  html[dir="ltr"] .lang-menu { right: -10px; left: auto; }
Â  Â  Â  Â  .lang-menu.show { display: flex; animation: fadeIn 0.2s ease; }
Â  Â  Â  Â  .lang-item { padding: 12px 15px; text-align: start; cursor: pointer; transition: 0.2s; font-size: 0.95em; color: var(--text-main); display: flex; align-items: center; gap: 10px; }
Â  Â  Â  Â  .lang-item:hover { background: rgba(128,128,128,0.1); color: var(--primary); }

Â  Â  Â  Â  .admin-link-btn { background: rgba(128,128,128,0.1); color: var(--text-main); padding: 8px 15px; border-radius: 50px; font-weight: bold; font-size: 0.9em; display: flex; align-items: center; gap: 6px; transition: 0.3s; }
Â  Â  Â  Â  .admin-link-btn:hover { background: var(--primary); color: white; }

Â  Â  Â  Â  .container { max-width: 1200px; margin: 0 auto; width: 95%; animation: fadeIn 0.5s ease; }
Â  Â  Â  Â  @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

Â  Â  Â  Â  .nav-pills { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; margin-top: 10px; flex-wrap: wrap; }
Â  Â  Â  Â  .pill { padding: 10px 25px; border-radius: 50px; font-weight: bold; color: var(--text-light); background: var(--bg-card); border: var(--border); transition: 0.3s; display: flex; align-items: center; gap: 5px;}
Â  Â  Â  Â  .pill.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); transform: scale(1.05); border-color: transparent; }

Â  Â  Â  Â  .search-area { max-width: 600px; margin: 0 auto 20px; position: relative; }
Â  Â  Â  Â  .search-input { width: 100%; padding: 15px 20px; border-radius: 50px; border: var(--border); background: var(--bg-card); color: var(--text-main); font-size: 1em; box-shadow: var(--shadow); transition: 0.3s; font-family: var(--font-main); }
Â  Â  Â  Â  .search-input:focus { transform: scale(1.01); border-color: var(--primary); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .add-activity-btn { display: flex; align-items: center; justify-content: center; gap: 10px; background: var(--primary-gradient); color: white; padding: 12px 25px; border-radius: 50px; font-weight: bold; margin: 0 auto 30px; box-shadow: 0 5px 15px rgba(99, 102, 241, 0.3); transition: 0.3s; width: fit-content; }
Â  Â  Â  Â  .add-activity-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4); }

Â  Â  Â  Â  .filter-header { display: none; align-items: center; justify-content: space-between; padding: 15px; margin-bottom: 25px; background: var(--bg-card); border-radius: 15px; border: var(--border); }

Â  Â  Â  Â  .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
Â  Â  Â  Â  .card { background: var(--bg-card); border-radius: 16px; overflow: hidden; box-shadow: var(--shadow); border: var(--border); display: flex; flex-direction: column; transition: 0.3s; }
Â  Â  Â  Â  .card:hover { transform: translateY(-5px); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .card-img-grid { display: grid; grid-template-columns: 1fr 1fr; height: 180px; width: 100%; gap: 1px; background: #e2e8f0; flex-shrink: 0; }
Â  Â  Â  Â  .card-img-grid img { width: 100%; height: 100%; object-fit: cover; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .card-body { padding: 15px; flex-grow: 1; background: var(--bg-card); position: relative; z-index: 2; }
Â  Â  Â  Â  .card-title { font-weight: 800; font-size: 1.1em; margin-bottom: 8px; color: var(--text-main); }
Â  Â  Â  Â  .card-info { font-size: 0.85em; color: var(--text-light); display: flex; align-items: center; gap: 8px; margin-bottom: 5px; }
Â  Â  Â  Â  .card-footer { padding: 12px 15px; background: rgba(128,128,128,0.03); border-top: 1px solid rgba(128,128,128,0.05); }
Â  Â  Â  Â  .btn-card { width: 100%; padding: 10px; border-radius: 10px; background: rgba(99, 102, 241, 0.1); color: var(--primary); font-weight: bold; transition: 0.2s; }
Â  Â  Â  Â  .btn-card:hover { background: var(--primary); color: white; }

Â  Â  Â  Â  .teacher-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 20px; }
Â  Â  Â  Â  .teacher-item { text-align: center; padding: 20px 10px; background: var(--bg-card); border-radius: 20px; transition: 0.3s; border: var(--border); cursor: pointer; box-shadow: var(--shadow); }
Â  Â  Â  Â  .teacher-item:hover { transform: translateY(-5px); border-color: var(--primary); }
Â  Â  Â  Â  .avatar-lg { width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 10px; object-fit: contain; border: 3px solid var(--primary); padding: 10px; background: var(--bg-body); }

Â  Â  Â  Â  .admin-dashboard { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-body); z-index: 2000; overflow-y: auto; display: none; }
Â  Â  Â  Â  .admin-nav { position: sticky; top: 0; background: #1e293b; color: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; z-index: 10; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }

Â  Â  Â  Â  .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); backdrop-filter: blur(5px); z-index: 3000; display: none; justify-content: center; align-items: center; padding: 20px; opacity: 0; transition: opacity 0.2s; }
Â  Â  Â  Â  .modal-overlay.active { display: flex; opacity: 1; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .editor-container { width: 100%; max-width: 900px; display: flex; flex-direction: column; gap: 15px; height: 90vh; }
Â  Â  Â  Â  .editor-toolbar { background: #1e293b; padding: 15px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; color: white; }
Â  Â  Â  Â  .paper-area { background: #334155; padding: 20px; border-radius: 15px; flex-grow: 1; overflow: auto; display: flex; justify-content: center; }
Â  Â  Â  Â  .a4-page { width: 210mm; min-height: 297mm; background: white; padding: 15mm; color: black; direction: rtl; text-align: right; display: flex; flex-direction: column; position: relative; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  html[dir="ltr"] .a4-page { text-align: left; direction: ltr; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .p-header { display: flex; justify-content: space-between; border-bottom: 3px solid black; padding-bottom: 15px; margin-bottom: 20px; }
Â  Â  Â  Â  .p-form { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; background: #f8fafc; padding: 15px; border: 1px solid #e2e8f0; margin-bottom: 20px; }
Â  Â  Â  Â  .p-input { width: 100%; border: none; border-bottom: 1px dashed #cbd5e1; background: transparent; font-weight: bold; padding: 2px; font-family: inherit; }
Â  Â  Â  Â  .p-images { display: grid; gap: 10px; margin-top: 20px; }
Â  Â  Â  Â  .p-images.landscape { grid-template-columns: 1fr 1fr; } .p-images.landscape .slot { height: 180px; }
Â  Â  Â  Â  .p-images.portrait { grid-template-columns: 1fr 1fr; } .p-images.portrait .slot { height: 280px; }
Â  Â  Â  Â  .slot { background: #f1f5f9; border: 2px dashed #cbd5e1; border-radius: 8px; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; }
Â  Â  Â  Â  .slot img { width: 100%; height: 100%; object-fit: contain; }
Â  Â  Â  Â  .controls { position: absolute; bottom: 5px; display: flex; gap: 5px; background: rgba(0,0,0,0.6); padding: 5px; border-radius: 20px; opacity: 0; transition: 0.2s; }
Â  Â  Â  Â  .slot:hover .controls { opacity: 1; }
Â  Â  Â  Â  .c-btn { width: 25px; height: 25px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }

Â  Â  Â  Â  @media print {
Â  Â  Â  Â  Â  Â  body * { visibility: hidden; } .a4-page, .a4-page * { visibility: visible; }
Â  Â  Â  Â  Â  Â  .a4-page { position: absolute; left: 0; top: 0; margin: 0; padding: 10mm; width: 210mm; height: 297mm; }
Â  Â  Â  Â  Â  Â  .controls, .editor-toolbar, .modal-overlay { display: none !important; }
Â  Â  Â  Â  }
Â  Â  Â  Â  @media (max-width: 768px) { .nav-brand span { font-size: 0.9em; } .a4-page { width: 100%; height: auto; aspect-ratio: 210/297; padding: 5mm; } .p-images.landscape .slot { height: 120px; } }
Â  Â  </style>
</head>
<body>

Â  Â  <nav class="navbar">
Â  Â  Â  Â  <div class="nav-brand"><div class="nav-logo-icon">ğŸ«</div><span data-i18n="app_title">Ø¦Û•Ø±Ø´ÛŒÙÛŒ Ú¯Ø²Ù†Ú¯</span></div>
Â  Â  Â  Â  <div class="nav-right">
Â  Â  Â  Â  Â  Â  <div class="lang-dropdown">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="toggleLangMenu()" class="icon-btn">ğŸŒ</button>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="langMenu" class="lang-menu">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="lang-item" onclick="setLang('ku')"><span>ğŸ³ï¸</span> Ú©ÙˆØ±Ø¯ÛŒ</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="lang-item" onclick="setLang('en')"><span>ğŸ‡ºğŸ‡¸</span> English</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="lang-item" onclick="setLang('ar')"><span>ğŸ‡®ğŸ‡¶</span> Ø¹Ø±Ø¨ÙŠ</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button onclick="toggleTheme()" class="icon-btn" id="themeIcon">ğŸŒ™</button>
Â  Â  Â  Â  Â  Â  <button id="adminBtn" class="admin-link-btn"><span>ğŸ”‘</span> <span data-i18n="btn_admin" style="font-size:0.9em;">Ø¦Û•Ø¯Ù…ÛŒÙ†</span></button>
Â  Â  Â  Â  </div>
Â  Â  </nav>

Â  Â  <div id="securityOverlay" style="position:fixed; top:0; left:0; width:100%; height:100%; background:#0f172a; z-index:9999; display:flex; justify-content:center; align-items:center;">
Â  Â  Â  Â  <div class="glass" style="padding:40px; text-align:center; max-width:300px; width:90%; background:white;">
Â  Â  Â  Â  Â  Â  <div style="font-size:3em; margin-bottom:10px;">ğŸ”’</div><h2 style="margin-bottom:20px; color:#333;" data-i18n="secure_area">Ù¾Ø§Ø±ÛØ²Ø±Ø§Ùˆ</h2>
Â  Â  Â  Â  Â  Â  <input type="password" id="sitePassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢" style="width:100%; padding:12px; border:1px solid #ddd; border-radius:10px; margin-bottom:15px; text-align:center;">
Â  Â  Â  Â  Â  Â  <button onclick="checkSitePassword()" class="admin-link-btn" style="width:100%; justify-content:center; background:var(--primary); color:white;" data-i18n="btn_login">Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
Â  Â  Â  Â  Â  Â  <p id="errorMsg" style="color:red; margin-top:10px; display:none;" data-i18n="error_pass">Ù‡Û•ÚµÛ•ÛŒÛ•</p>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="adminAuthModal" class="modal-overlay" style="z-index:9000;">
Â  Â  Â  Â  <div class="glass" style="background:white; padding:30px; width:90%; max-width:350px; text-align:center;">
Â  Â  Â  Â  Â  Â  <h3 data-i18n="admin_login_title">Ø¨Û•Ú•ÛÙˆÛ•Ø¨Û•Ø±</h3>
Â  Â  Â  Â  Â  Â  <input type="email" id="adminEmail" placeholder="Email" class="search-input" style="margin:15px 0 10px; border:1px solid #ddd;">
Â  Â  Â  Â  Â  Â  <input type="password" id="adminPass" placeholder="Password" class="search-input" style="margin-bottom:20px; border:1px solid #ddd;">
Â  Â  Â  Â  Â  Â  <button onclick="loginAdmin()" class="admin-link-btn" style="width:100%; justify-content:center; background:var(--primary); color:white;" data-i18n="btn_login">Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
Â  Â  Â  Â  Â  Â  <button onclick="document.getElementById('adminAuthModal').classList.remove('active')" style="margin-top:15px; color:#666;" data-i18n="btn_close">Ø¯Ø§Ø®Ø³ØªÙ†</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="mainContent" style="display:none;">
Â  Â  Â  Â  <div class="container">
Â  Â  Â  Â  Â  Â  <div class="nav-pills">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="switchView('archive')" class="pill active" id="btn-archive" data-i18n="tab_archive">Ø¦Û•Ø±Ø´ÛŒÙ</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="switchView('teachers')" class="pill" id="btn-teachers" data-i18n="tab_teachers">Ù…Ø§Ù…Û†Ø³ØªØ§ÛŒØ§Ù†</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="window.open('https://gzng-school.vercel.app/', '_blank')" class="pill" style="background: #ecfdf5; color: #059669; border-color: #10b981;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“… <span data-i18n="btn_schedule">Ø®Ø´ØªÛ•ÛŒ Ú•Û†Ú˜Ø§Ù†Û•</span>
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="archiveControls">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="search-area"><input type="text" class="search-input" id="searchBox" placeholder="Ú¯Û•Ú•Ø§Ù†..."></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="text-align:center;"><button onclick="openEditor()" class="add-activity-btn" id="btnAddActivity"><span style="margin:0 5px;">â•</span> <span data-i18n="btn_add_activity">Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ Ù†ÙˆÛ</span></button></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div id="filterHeader" class="filter-header">
Â  Â  Â  Â  Â  Â  Â  Â  <div style="display:flex; align-items:center; gap:15px;"><div id="filterAvatarContainer"></div><h2 id="filterName" style="font-size:1.2em; margin:0;"></h2></div>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="clearFilter()" style="color:#ef4444; background:rgba(239, 68, 68, 0.1); padding:8px 15px; border-radius:10px;" data-i18n="btn_back">âŒ Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ•</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div id="activitiesGrid" class="grid"></div>
Â  Â  Â  Â  Â  Â  <div id="teachersGrid" class="teacher-grid" style="display:none;"></div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="adminDashboard" class="admin-dashboard">
Â  Â  Â  Â  <div class="admin-nav">
Â  Â  Â  Â  Â  Â  <h2 style="display:flex; align-items:center; gap:10px;">âš™ï¸ <span data-i18n="dashboard">Ø¯Ø§Ø´Ø¨Û†Ø±Ø¯</span> <span style="font-size:0.6em; background:#334155; padding:2px 8px; border-radius:10px;" data-i18n="btn_admin">Ø¨Û•Ú•ÛÙˆÛ•Ø¨Û•Ø±</span></h2>
Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:10px;"><button onclick="closeAdminDashboard()" style="background:#3b82f6; color:white; padding:8px 15px; border-radius:8px;" data-i18n="btn_back_site">ğŸ”™ Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ•</button><button onclick="logoutAdmin()" style="background:#ef4444; color:white; padding:8px 15px; border-radius:8px;" data-i18n="btn_logout">Ø¯Û•Ø±Ú†ÙˆÙˆÙ†</button></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="container" style="padding-top:30px;">
Â  Â  Â  Â  Â  Â  <div class="grid" style="margin-bottom:30px;">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="card" style="padding:20px; text-align:center;"><div style="font-size:2.5em; font-weight:900; color:var(--primary);" id="statActivities">0</div><p data-i18n="stat_activity">Ú†Ø§Ù„Ø§Ú©ÛŒ</p></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="card" style="padding:20px; text-align:center;"><div style="font-size:2.5em; font-weight:900; color:var(--primary);" id="statTeachers">0</div><p data-i18n="stat_teacher">Ù…Ø§Ù…Û†Ø³ØªØ§</p></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="nav-pills">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="switchAdminTab('activities')" id="tab-admin-acts" class="pill active" data-i18n="manage_activities">Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒÛŒÛ•Ú©Ø§Ù†</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="switchAdminTab('teachers')" id="tab-admin-teach" class="pill" data-i18n="manage_teachers">Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§ÛŒØ§Ù†</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div id="adminActivitiesView" class="glass" style="padding:20px; background:var(--bg-card);"><table style="width:100%; border-collapse:collapse;"><thead><tr style="text-align:inherit; border-bottom:2px solid #eee;"><th data-i18n="lbl_subject">Ø¨Ø§Ø¨Û•Øª</th><th data-i18n="lbl_teacher">Ù…Ø§Ù…Û†Ø³ØªØ§</th><th data-i18n="lbl_action">Ú©Ø±Ø¯Ø§Ø±</th></tr></thead><tbody id="adminActivitiesTable"></tbody></table></div>
Â  Â  Â  Â  Â  Â  <div id="adminTeachersView" class="glass" style="padding:20px; display:none; background:var(--bg-card);"><button onclick="openAddTeacherModal()" class="admin-link-btn" style="background:var(--primary); color:white; margin-bottom:20px;">â• <span data-i18n="btn_add_teacher">Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§</span></button><div id="adminTeachersGrid" class="teacher-grid"></div></div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="editorModal" class="modal-overlay">
Â  Â  Â  Â  <div class="editor-container">
Â  Â  Â  Â  Â  Â  <div class="editor-toolbar">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="closeEditor()" style="color:#ef4444; font-weight:bold;" data-i18n="btn_close">Ø¯Ø§Ø®Ø³ØªÙ†</button>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:10px;"><button onclick="setLayout('landscape')" style="background:#334155; padding:5px 10px; border-radius:5px;" data-i18n="layout_landscape">ÙˆÛÙ†Û•ÛŒ Ù¾Ø§Ù†</button><button onclick="setLayout('portrait')" style="background:#334155; padding:5px 10px; border-radius:5px;" data-i18n="layout_portrait">ÙˆÛÙ†Û•ÛŒ Ø¯Ø±ÛÚ˜</button></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:10px;"><button onclick="window.print()" style="background:white; color:black; padding:5px 10px; border-radius:5px;">ğŸ–¨</button><button onclick="saveToArchive()" id="btnSaveArchive" style="background:var(--primary); color:white; padding:5px 15px; border-radius:5px;" data-i18n="btn_save">ğŸ’¾ Ø³Û•ÛŒÚ¤</button></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="paper-area">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="a4-page" id="reportPaper">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="p-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><h1 style="font-size:24px; color:black; margin:0;" data-i18n="school_name">Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒ Ú¯Ø²Ù†Ú¯</h1><p style="color:#666; margin-top:5px;" data-i18n="report_form">ÙÛ†Ø±Ù…ÛŒ Ú•Ø§Ù¾Û†Ø±ØªÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ</p></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="width:60px; height:60px; background:#eee; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold;">LOGO</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="p-form">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label style="font-size:12px; color:#666;" data-i18n="lbl_subject">Ø¨Ø§Ø¨Û•Øª</label><input id="inpName" class="p-input"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label style="font-size:12px; color:#666;" data-i18n="lbl_committee">Ù„ÛŒÚ˜Ù†Û•</label><input id="inpComm" class="p-input"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label style="font-size:12px; color:#666;" data-i18n="lbl_teacher">Ù…Ø§Ù…Û†Ø³ØªØ§</label><select id="inpTeacher" class="p-input" style="background:white;"><option value="">...</option></select></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label style="font-size:12px; color:#666;" data-i18n="lbl_date">Ø¨Û•Ø±ÙˆØ§Ø±</label><input id="inpDate" type="date" class="p-input"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="inpNotes" style="width:100%; height:120px; border:1px solid #ddd; padding:10px; resize:none; font-family:inherit; margin-bottom:10px;" placeholder="..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="imgContainer" class="p-images landscape">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="slot" id="slot0" onmousedown="startDrag(event, 0)" ontouchstart="startDrag(event, 0)"><img id="img0"><div class="controls"><div class="c-btn" onclick="triggerFile(0)">ğŸ“‚</div><div class="c-btn" onclick="adjustZoom(0, 0.1)">+</div><div class="c-btn" onclick="adjustZoom(0, -0.1)">-</div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="slot" id="slot1" onmousedown="startDrag(event, 1)" ontouchstart="startDrag(event, 1)"><img id="img1"><div class="controls"><div class="c-btn" onclick="triggerFile(1)">ğŸ“‚</div><div class="c-btn" onclick="adjustZoom(1, 0.1)">+</div><div class="c-btn" onclick="adjustZoom(1, -0.1)">-</div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="slot" id="slot2" onmousedown="startDrag(event, 2)" ontouchstart="startDrag(event, 2)"><img id="img2"><div class="controls"><div class="c-btn" onclick="triggerFile(2)">ğŸ“‚</div><div class="c-btn" onclick="adjustZoom(2, 0.1)">+</div><div class="c-btn" onclick="adjustZoom(2, -0.1)">-</div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="slot" id="slot3" onmousedown="startDrag(event, 3)" ontouchstart="startDrag(event, 3)"><img id="img3"><div class="controls"><div class="c-btn" onclick="triggerFile(3)">ğŸ“‚</div><div class="c-btn" onclick="adjustZoom(3, 0.1)">+</div><div class="c-btn" onclick="adjustZoom(3, -0.1)">-</div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin-top:auto; text-align:center; font-size:12px; color:#999; border-top:1px solid #eee; padding-top:10px;" data-i18n="school_footer">Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒ Ú¯Ø²Ù†Ú¯ÛŒ Ø¦ÛŒÙ†Ú¯Ù„ÛŒØ²ÛŒ Ù†Ø§Ø­Ú©ÙˆÙ…ÛŒ</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <input type="file" id="hiddenFileInput" accept="image/*" style="display:none;">

Â  Â  <div id="teacherEditModal" class="modal-overlay" style="z-index:9200;">
Â  Â  Â  Â  <div class="glass" style="background:white; padding:30px; width:90%; max-width:400px; border-radius:20px;">
Â  Â  Â  Â  Â  Â  <h3 style="margin-bottom:20px;" id="teacherModalTitle" data-i18n="teacher_info">Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§</h3>
Â  Â  Â  Â  Â  Â  <input type="hidden" id="editTeacherId">
Â  Â  Â  Â  Â  Â  <label style="font-size:0.9em; color:gray;" data-i18n="lbl_name">Ù†Ø§Ùˆ</label>
Â  Â  Â  Â  Â  Â  <input id="editTeacherName" type="text" class="search-input" style="border:1px solid #ddd; margin:5px 0 15px; padding:10px;">
Â  Â  Â  Â  Â  Â  <label style="font-size:0.9em; color:gray;" data-i18n="lbl_gender">Ú•Û•Ú¯Û•Ø²</label>
Â  Â  Â  Â  Â  Â  <select id="editTeacherGender" class="search-input" style="border:1px solid #ddd; margin:5px 0 15px; padding:10px;">
Â  Â  Â  Â  Â  Â  Â  Â  <option value="male">ğŸ‘¨â€ğŸ« Male</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="female">ğŸ‘©â€ğŸ« Female</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  <label style="font-size:0.9em; color:gray;" data-i18n="lbl_photo">ÙˆÛÙ†Û•</label>
Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:10px; align-items:center; margin-bottom:20px; flex-wrap:wrap;">
Â  Â  Â  Â  Â  Â  Â  Â  <img id="editTeacherPreview" src="" style="width:50px; height:50px; border-radius:50%; border:1px solid #ddd; object-fit:contain; display:none;">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="document.getElementById('editTeacherFile').click()" class="admin-link-btn" style="background:#e0e7ff; color:blue;" data-i18n="btn_change">ğŸ“· Ú¯Û†Ú•ÛŒÙ†</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="removeTeacherPhoto()" class="admin-link-btn" style="background:#fee2e2; color:red;" data-i18n="btn_remove_photo">âŒ Ø³Ú•ÛŒÙ†Û•ÙˆÛ•</button>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="file" id="editTeacherFile" style="display:none;" accept="image/*" onchange="previewTeacherImage(this)">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button onclick="saveTeacherChanges()" class="admin-link-btn" style="width:100%; justify-content:center; background:var(--primary); color:white; padding:12px;" data-i18n="btn_save">Ø³Û•ÛŒÚ¤Ú©Ø±Ø¯Ù†</button>
Â  Â  Â  Â  Â  Â  <button onclick="document.getElementById('teacherEditModal').classList.remove('active')" style="margin-top:10px; width:100%; color:#666;" data-i18n="btn_close">Ø¯Ø§Ø®Ø³ØªÙ†</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script type="module">
Â  Â  Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
Â  Â  Â  Â  import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
Â  Â  Â  Â  import { getFirestore, collection, addDoc, deleteDoc, doc, onSnapshot, query, orderBy, updateDoc, where, writeBatch, getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
Â  Â  Â  Â Â 
Â  Â  Â  Â  const IMGBB_API_KEY = "0792200cd18a10eadeeccf373d03e4f7";Â 

Â  Â  Â  Â  const firebaseConfig = {
Â  Â  Â  Â  Â  Â  apiKey: "AIzaSyAr_JHCa5BbM5RJ9KCp0IBom1rdAgVX4CM",
Â  Â  Â  Â  Â  Â  authDomain: "gzng-f4273.firebaseapp.com",
Â  Â  Â  Â  Â  Â  projectId: "gzng-f4273",
Â  Â  Â  Â  Â  Â  storageBucket: "gzng-f4273.firebasestorage.app",
Â  Â  Â  Â  Â  Â  messagingSenderId: "417779309632",
Â  Â  Â  Â  Â  Â  appId: "1:417779309632:web:6ed119d26baa35822cd3a5",
Â  Â  Â  Â  Â  Â  measurementId: "G-B6V0CHGQV6"
Â  Â  Â  Â  };

Â  Â  Â  Â  const app = initializeApp(firebaseConfig);
Â  Â  Â  Â  const auth = getAuth(app);
Â  Â  Â  Â  const db = getFirestore(app);
Â  Â  Â  Â  const actRef = collection(db, "activities");
Â  Â  Â  Â  const teachRef = collection(db, "teachers");

Â  Â  Â  Â  let acts=[], teachers=[], user=null;
Â  Â  Â  Â  window.localFiles=[null,null,null,null]; window.currentSlot=0;
Â  Â  Â  Â  window.imgState={0:{s:1,x:0,y:0},1:{s:1,x:0,y:0},2:{s:1,x:0,y:0},3:{s:1,x:0,y:0}};
Â  Â  Â  Â  let currentFilter=null, tempTeacherFile = null, removePhotoFlag = false;

Â  Â  Â  Â  // NEW CLEAN VECTOR ICONS
Â  Â  Â  Â  const MALE_ICON = "https://cdn-icons-png.flaticon.com/512/4042/4042356.png";
Â  Â  Â  Â  const FEMALE_ICON = "https://cdn-icons-png.flaticon.com/512/4042/4042422.png";

Â  Â  Â  Â  // --- TRANSLATIONS ---
Â  Â  Â  Â  const translations = {
Â  Â  Â  Â  Â  Â  ku: {
Â  Â  Â  Â  Â  Â  Â  Â  app_title: "Ø¦Û•Ø±Ø´ÛŒÙÛŒ Ú¯Ø²Ù†Ú¯", btn_admin: "Ø¦Û•Ø¯Ù…ÛŒÙ†", tab_archive: "Ø¦Û•Ø±Ø´ÛŒÙ", tab_teachers: "Ù…Ø§Ù…Û†Ø³ØªØ§ÛŒØ§Ù†", btn_schedule: "Ø®Ø´ØªÛ•ÛŒ Ú•Û†Ú˜Ø§Ù†Û•",
Â  Â  Â  Â  Â  Â  Â  Â  btn_add_activity: "Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ Ù†ÙˆÛ", btn_back: "Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ•", dashboard: "Ø¯Ø§Ø´Ø¨Û†Ø±Ø¯",
Â  Â  Â  Â  Â  Â  Â  Â  stat_activity: "Ú†Ø§Ù„Ø§Ú©ÛŒ", stat_teacher: "Ù…Ø§Ù…Û†Ø³ØªØ§", manage_activities: "Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒÛŒÛ•Ú©Ø§Ù†",
Â  Â  Â  Â  Â  Â  Â  Â  manage_teachers: "Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§ÛŒØ§Ù†", lbl_subject: "Ø¨Ø§Ø¨Û•Øª", lbl_teacher: "Ù…Ø§Ù…Û†Ø³ØªØ§", lbl_action: "Ú©Ø±Ø¯Ø§Ø±",
Â  Â  Â  Â  Â  Â  Â  Â  btn_add_teacher: "Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§", btn_back_site: "Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ• Ø¨Û† Ø³Ø§ÛŒØª", btn_logout: "Ø¯Û•Ø±Ú†ÙˆÙˆÙ†",
Â  Â  Â  Â  Â  Â  Â  Â  btn_close: "Ø¯Ø§Ø®Ø³ØªÙ†", btn_save: "Ø³Û•ÛŒÚ¤", layout_landscape: "ÙˆÛÙ†Û•ÛŒ Ù¾Ø§Ù†", layout_portrait: "ÙˆÛÙ†Û•ÛŒ Ø¯Ø±ÛÚ˜",
Â  Â  Â  Â  Â  Â  Â  Â  school_name: "Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒ Ú¯Ø²Ù†Ú¯", report_form: "ÙÛ†Ø±Ù…ÛŒ Ú•Ø§Ù¾Û†Ø±ØªÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ", lbl_committee: "Ù„ÛŒÚ˜Ù†Û•", lbl_date: "Ø¨Û•Ø±ÙˆØ§Ø±",
Â  Â  Â  Â  Â  Â  Â  Â  school_footer: "Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒ Ú¯Ø²Ù†Ú¯ÛŒ Ø¦ÛŒÙ†Ú¯Ù„ÛŒØ²ÛŒ Ù†Ø§Ø­Ú©ÙˆÙ…ÛŒ", teacher_info: "Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§", lbl_name: "Ù†Ø§Ùˆ", lbl_gender: "Ú•Û•Ú¯Û•Ø²",
Â  Â  Â  Â  Â  Â  Â  Â  lbl_photo: "ÙˆÛÙ†Û•", btn_change: "Ú¯Û†Ú•ÛŒÙ†", btn_remove_photo: "Ø³Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•", view_report: "Ø¨ÛŒÙ†ÛŒÙ†ÛŒ Ú•Ø§Ù¾Û†Ø±Øª",
Â  Â  Â  Â  Â  Â  Â  Â  secure_area: "Ù†Ø§ÙˆÚ†Û•ÛŒ Ù¾Ø§Ø±ÛØ²Ø±Ø§Ùˆ", btn_login: "Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•", error_pass: "Ù¾Ø§Ø³Û†Ø±Ø¯ Ù‡Û•ÚµÛ•ÛŒÛ•", admin_login_title: "Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•ÛŒ Ø¦Û•Ø¯Ù…ÛŒÙ†", search: "Ú¯Û•Ú•Ø§Ù†..."
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  en: {
Â  Â  Â  Â  Â  Â  Â  Â  app_title: "Gzng Archive", btn_admin: "Admin", tab_archive: "Archive", tab_teachers: "Teachers", btn_schedule: "Daily Schedule",
Â  Â  Â  Â  Â  Â  Â  Â  btn_add_activity: "Add New Activity", btn_back: "Back", dashboard: "Dashboard",
Â  Â  Â  Â  Â  Â  Â  Â  stat_activity: "Activities", stat_teacher: "Teachers", manage_activities: "Manage Activities",
Â  Â  Â  Â  Â  Â  Â  Â  manage_teachers: "Manage Teachers", lbl_subject: "Subject", lbl_teacher: "Teacher", lbl_action: "Action",
Â  Â  Â  Â  Â  Â  Â  Â  btn_add_teacher: "Add Teacher", btn_back_site: "Back to Site", btn_logout: "Logout",
Â  Â  Â  Â  Â  Â  Â  Â  btn_close: "Close", btn_save: "Save", layout_landscape: "Landscape", layout_portrait: "Portrait",
Â  Â  Â  Â  Â  Â  Â  Â  school_name: "Gzng School", report_form: "Activity Report Form", lbl_committee: "Committee", lbl_date: "Date",
Â  Â  Â  Â  Â  Â  Â  Â  school_footer: "Gzng Non-Governmental English School", teacher_info: "Teacher Info", lbl_name: "Name", lbl_gender: "Gender",
Â  Â  Â  Â  Â  Â  Â  Â  lbl_photo: "Photo", btn_change: "Change", btn_remove_photo: "Remove Photo", view_report: "View Report",
Â  Â  Â  Â  Â  Â  Â  Â  secure_area: "Restricted Area", btn_login: "Login", error_pass: "Wrong Password", admin_login_title: "Admin Login", search: "Search..."
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  ar: {
Â  Â  Â  Â  Â  Â  Â  Â  app_title: "Ø£Ø±Ø´ÙŠÙ ØºØ²Ù†Ú¯", btn_admin: "Ø¥Ø¯Ø§Ø±Ø©", tab_archive: "Ø§Ù„Ø£Ø±Ø´ÙŠÙ", tab_teachers: "Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ†", btn_schedule: "Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠ",
Â  Â  Â  Â  Â  Â  Â  Â  btn_add_activity: "Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø· Ø¬Ø¯ÙŠØ¯", btn_back: "Ø±Ø¬ÙˆØ¹", dashboard: "Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…",
Â  Â  Â  Â  Â  Â  Â  Â  stat_activity: "Ø£Ù†Ø´Ø·Ø©", stat_teacher: "Ù…Ø¯Ø±Ø³ÙŠÙ†", manage_activities: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù†Ø´Ø·Ø©",
Â  Â  Â  Â  Â  Â  Â  Â  manage_teachers: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ†", lbl_subject: "Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹", lbl_teacher: "Ø§Ù„Ù…Ø¯Ø±Ø³", lbl_action: "Ø¥Ø¬Ø±Ø§Ø¡",
Â  Â  Â  Â  Â  Â  Â  Â  btn_add_teacher: "Ø¥Ø¶Ø§ÙØ© Ù…Ø¯Ø±Ø³", btn_back_site: "Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…ÙˆÙ‚Ø¹", btn_logout: "Ø®Ø±ÙˆØ¬",
Â  Â  Â  Â  Â  Â  Â  Â  btn_close: "Ø¥ØºÙ„Ø§Ù‚", btn_save: "Ø­ÙØ¸", layout_landscape: "Ø¹Ø±Ø¶ÙŠ", layout_portrait: "Ø·ÙˆÙ„ÙŠ",
Â  Â  Â  Â  Â  Â  Â  Â  school_name: "Ù…Ø¯Ø±Ø³Ø© ØºØ²Ù†Ú¯", report_form: "Ù†Ù…ÙˆØ°Ø¬ ØªÙ‚Ø±ÙŠØ± Ù†Ø´Ø§Ø·", lbl_committee: "Ø§Ù„Ù„Ø¬Ù†Ø©", lbl_date: "Ø§Ù„ØªØ§Ø±ÙŠØ®",
Â  Â  Â  Â  Â  Â  Â  Â  school_footer: "Ù…Ø¯Ø±Ø³Ø© ØºØ²Ù†Ú¯ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø§Ù„Ø£Ù‡Ù„ÙŠØ©", teacher_info: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³", lbl_name: "Ø§Ù„Ø§Ø³Ù…", lbl_gender: "Ø§Ù„Ø¬Ù†Ø³",
Â  Â  Â  Â  Â  Â  Â  Â  lbl_photo: "ØµÙˆØ±Ø©", btn_change: "ØªØºÙŠÙŠØ±", btn_remove_photo: "Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø©", view_report: "Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ±",
Â  Â  Â  Â  Â  Â  Â  Â  secure_area: "Ù…Ù†Ø·Ù‚Ø© Ù…Ø­Ù…ÙŠØ©", btn_login: "Ø¯Ø®ÙˆÙ„", error_pass: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø·Ø£", admin_login_title: "Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±Ù", search: "Ø¨Ø­Ø«..."
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  // Language Logic
Â  Â  Â  Â  window.toggleLangMenu = () => {
Â  Â  Â  Â  Â  Â  const menu = document.getElementById('langMenu');
Â  Â  Â  Â  Â  Â  menu.classList.toggle('show');
Â  Â  Â  Â  };
Â  Â  Â  Â  // Close menu when clicking outside
Â  Â  Â  Â  window.onclick = (e) => {
Â  Â  Â  Â  Â  Â  if (!e.target.matches('.icon-btn') && !e.target.matches('.icon-btn *')) {
Â  Â  Â  Â  Â  Â  Â  Â  const menu = document.getElementById('langMenu');
Â  Â  Â  Â  Â  Â  Â  Â  if (menu.classList.contains('show')) menu.classList.remove('show');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  window.setLang = (lang) => {
Â  Â  Â  Â  Â  Â  localStorage.setItem('lang', lang);
Â  Â  Â  Â  Â  Â  location.reload(); // Simplest way to re-render everything with new lang
Â  Â  Â  Â  };

Â  Â  Â  Â  // Init Lang
Â  Â  Â  Â  let currentLang = localStorage.getItem('lang') || 'ku';
Â  Â  Â  Â  document.documentElement.setAttribute('lang', currentLang);
Â  Â  Â  Â  document.documentElement.setAttribute('dir', currentLang === 'en' ? 'ltr' : 'rtl');
Â  Â  Â  Â  function t(key) { return translations[currentLang][key] || key; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Apply translations to static elements
Â  Â  Â  Â  document.querySelectorAll('[data-i18n]').forEach(el => {
Â  Â  Â  Â  Â  Â  const key = el.getAttribute('data-i18n');
Â  Â  Â  Â  Â  Â  if(translations[currentLang][key]) el.innerText = translations[currentLang
