<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø³ÛŒØ³ØªÛ•Ù…ÛŒ Ú•Ø§Ù¾Û†Ø±Øª Ùˆ Ø¦Û•Ø±Ø´ÛŒÙÛŒ Ú¯Ø²Ù†Ú¯</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --primary: #4f46e5; --bg-color: #f3f4f6; --card-bg: #ffffff;
            --text-dark: #1e293b; --text-gray: #64748b;
            --admin-primary: #0f172a; --admin-accent: #38bdf8;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Noto Sans Arabic', sans-serif; background-color: var(--bg-color); min-height: 100vh; padding: 10px; color: var(--text-dark); }
        
        /* --- Public View Styles --- */
        .container { max-width: 1200px; margin: 0 auto; padding-bottom: 80px; display: none; }
        header { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center; margin-bottom: 20px; position: relative; }
        h1 { font-size: 1.5em; margin-bottom: 5px; font-weight: 900; color: var(--primary); }
        
        .nav-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
        .tab-btn { background: white; border: 1px solid #ddd; padding: 8px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; font-family: inherit; transition: 0.3s; }
        .tab-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
        
        .controls { background: white; padding: 15px; border-radius: 16px; margin-bottom: 20px; display: flex; flex-direction: column; gap: 10px; }
        .search-box { padding: 12px; border-radius: 10px; border: 1px solid #ddd; font-family: inherit; width: 100%; }
        
        /* Ø¯ÙˆÚ¯Ù…Û•ÛŒ Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù† Ø¨Û† Ù‡Û•Ù…ÙˆÙˆØ§Ù† */
        .add-btn { 
            width: 100%; border: none; padding: 15px; border-radius: 10px; 
            font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 5px; 
            color: white; font-family: 'Noto Sans Arabic'; font-size: 1.1em;
            background: linear-gradient(135deg, var(--primary), #4338ca);
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
        }

        .activities-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .activity-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: 0.3s; }
        .card-header { padding: 15px; border-bottom: 1px solid #eee; }
        .card-header h3 { font-size: 1.1em; margin-bottom: 5px; }
        .card-meta { font-size: 0.85em; color: var(--text-gray); display: flex; justify-content: space-between; }
        .card-imgs { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1px; height: 180px; overflow: hidden; background: #eee; }
        .card-imgs img { width: 100%; height: 100%; object-fit: cover; }
        .card-actions { padding: 10px; display: flex; gap: 10px; background: #fafafa; }
        .action-btn { flex: 1; padding: 8px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; font-family: inherit; font-size: 0.9em; }
        .btn-view { background: #e0e7ff; color: var(--primary); }

        /* --- Teacher Cards --- */
        .teachers-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; }
        .teacher-card { 
            background: white; border-radius: 20px; padding: 20px; text-align: center; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); transition: 0.3s; border: 2px solid transparent; 
            cursor: pointer; 
        }
        .teacher-card:hover { border-color: var(--primary); transform: translateY(-5px); }
        .teacher-img-wrapper { width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 15px; overflow: hidden; border: 3px solid #e0e7ff; position: relative; background: #f8fafc; }
        .teacher-img { width: 100%; height: 100%; object-fit: cover; }
        .teacher-placeholder { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 35px; color: var(--primary); }
        .teacher-name { font-size: 1.1em; font-weight: 800; margin-bottom: 5px; color: var(--text-dark); }
        .teacher-stats { font-size: 0.85em; color: var(--text-gray); background: #f1f5f9; padding: 4px 12px; border-radius: 20px; display: inline-block; }

        /* --- Admin Dashboard --- */
        .admin-dashboard { display: none; background: #f1f5f9; min-height: 100vh; position: fixed; top: 0; left: 0; width: 100%; z-index: 500; overflow-y: auto; }
        .admin-sidebar { background: var(--admin-primary); color: white; padding: 20px; text-align: center; }
        .admin-sidebar h2 { margin-bottom: 20px; color: var(--admin-accent); }
        .admin-content { padding: 20px; max-width: 1200px; margin: 0 auto; }
        
        .stats-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .stat-card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: center; border-top: 4px solid var(--admin-accent); }
        .stat-number { font-size: 2em; font-weight: 900; color: var(--admin-primary); }
        .stat-label { color: #64748b; font-size: 0.9em; }

        .admin-tabs { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 5px; border-bottom: 2px solid #e2e8f0; }
        .admin-tab-btn { padding: 10px 20px; border: none; background: none; font-weight: bold; color: #64748b; cursor: pointer; font-family: inherit; border-bottom: 3px solid transparent; transition: 0.3s; font-size: 1em; }
        .admin-tab-btn.active { color: var(--primary); border-bottom-color: var(--primary); background: rgba(79, 70, 229, 0.05); border-radius: 10px 10px 0 0; }

        .admin-table-container { background: white; border-radius: 15px; padding: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); overflow-x: auto; min-height: 400px; }
        .admin-table { width: 100%; border-collapse: collapse; min-width: 600px; }
        .admin-table th { text-align: right; padding: 15px; border-bottom: 2px solid #e2e8f0; color: var(--text-gray); }
        .admin-table td { padding: 15px; border-bottom: 1px solid #f1f5f9; vertical-align: middle; }
        
        .btn-admin-action { padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; margin-left: 5px; }
        .btn-delete-red { background: #fee2e2; color: #ef4444; }
        .btn-edit-blue { background: #dbeafe; color: #2563eb; }
        .btn-logout { background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 20px; margin-top: 10px; cursor: pointer; }

        .admin-teachers-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 20px; }
        .admin-teacher-card { background: white; padding: 15px; border-radius: 10px; text-align: center; border: 1px solid #e2e8f0; position: relative; }
        
        /* Editor Modal */
        .editor-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f8fafc; z-index: 2000; overflow-y: auto; }
        .editor-modal.active { display: block; }
        .editor-header { background: white; padding: 15px; position: sticky; top: 0; z-index: 10; box-shadow: 0 2px 10px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
        .editor-tools { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; }
        .tool-btn { padding: 8px 15px; border-radius: 8px; border: 1px solid #ddd; background: white; cursor: pointer; font-family: inherit; font-weight: bold; font-size: 0.9em; white-space: nowrap; }
        .tool-btn.primary { background: var(--primary); color: white; border-color: var(--primary); }
        .tool-btn.danger { background: white; color: #ef4444; border-color: #ef4444; }

        /* Paper & Report */
        .paper-wrapper { padding: 20px; display: flex; justify-content: center; }
        .a4-paper { width: 210mm; min-height: 297mm; background: white; padding: 15mm; box-shadow: 0 0 20px rgba(0,0,0,0.1); position: relative; color: black; direction: rtl; text-align: right; display: flex; flex-direction: column; }
        
        .rep-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid #333; padding-bottom: 15px; margin-bottom: 20px; }
        .rep-logo { width: 70px; height: 70px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid #ddd; }
        .rep-form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; background: #f8fafc; padding: 15px; border-radius: 10px; border: 1px solid #e2e8f0; }
        .form-item label { display: block; font-size: 0.8em; color: #64748b; margin-bottom: 3px; }
        
        .form-input { width: 100%; border: none; background: transparent; font-family: inherit; font-weight: bold; font-size: 1em; border-bottom: 1px dashed #cbd5e1; padding: 2px; }
        /* Dropdown Style */
        select.form-input { -webkit-appearance: none; appearance: none; background: white; cursor: pointer; padding: 5px; border-radius: 5px; border: 1px solid #e2e8f0; }
        .form-input:focus { outline: none; border-bottom-color: var(--primary); }
        .form-input:disabled { background: transparent; border-bottom: none; color: #333; cursor: default; border:none; -webkit-appearance: none; }
        
        .rep-images { display: grid; gap: 10px; margin-bottom: 20px; }
        .layout-landscape { grid-template-columns: 1fr 1fr; } .layout-landscape .img-slot { aspect-ratio: 16/9; }
        .layout-portrait { grid-template-columns: 1fr 1fr; } .layout-portrait .img-slot { aspect-ratio: 3/4; }
        .img-slot { background: #f1f5f9; border: 2px dashed #cbd5e1; border-radius: 10px; overflow: hidden; position: relative; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        .img-slot:hover { background: #e2e8f0; border-color: var(--primary); }
        .img-slot img { width: 100%; height: 100%; object-fit: cover; display: none; }
        .img-slot.has-img img { display: block; }
        .img-slot.has-img .placeholder-text { display: none; }
        .placeholder-text { color: #94a3b8; font-size: 0.9em; text-align: center; pointer-events: none; }
        .rep-notes textarea { width: 100%; border: 1px solid #e2e8f0; border-radius: 10px; padding: 10px; font-family: inherit; resize: none; min-height: 200px; background: #fffbeb; font-size: 16px; line-height: 1.6; }
        .rep-notes textarea:disabled { background: #fff; border:none; }
        .rep-footer { margin-top: auto; padding-top: 20px; text-align: center; border-top: 1px solid #eee; }
        .school-name-footer { font-size: 14px; font-weight: bold; color: #64748b; }

        /* Auth & Loader */
        #securityOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #1e293b; z-index: 10000; display: flex; justify-content: center; align-items: center; }
        .auth-box { background: white; padding: 30px; border-radius: 20px; text-align: center; width: 90%; max-width: 350px; }
        .admin-btn { position: absolute; top: 20px; left: 20px; padding: 5px 10px; border-radius: 5px; border: none; cursor: pointer; font-family: inherit; font-size: 0.8em; background: #eee; }
        #loader { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.95); z-index:3000; display:none; flex-direction:column; justify-content:center; align-items:center; color:var(--primary); font-weight:bold; text-align: center;}

        /* Filter Header */
        .filter-header { display: none; margin-bottom: 20px; align-items: center; justify-content: space-between; background: white; padding: 15px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .filter-info { display: flex; align-items: center; gap: 15px; }
        .filter-avatar { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary); }
        .filter-placeholder { width: 50px; height: 50px; border-radius: 50%; background: #e0e7ff; color: var(--primary); display: flex; align-items: center; justify-content: center; font-weight: bold; }

        @media (max-width: 600px) {
            .a4-paper { width: 100%; padding: 10mm; min-height: auto; aspect-ratio: 210/297; }
            .editor-header { position: sticky; top: 0; }
            .paper-wrapper { padding: 10px 0; }
        }
    </style>
</head>
<body>

    <div id="securityOverlay">
        <div class="auth-box">
            <h2>ğŸ”’ Ù¾Ø§Ø±ÛØ²Ø±Ø§Ùˆ</h2>
            <p style="color:#64748b; margin:10px 0;">ØªÚ©Ø§ÛŒÛ• ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ Ø¨Ù†ÙˆÙˆØ³Û•</p>
            <input type="password" id="sitePassword" style="width:100%; padding:10px; text-align:center; border:1px solid #ddd; border-radius:10px; margin-bottom:15px;" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢">
            <button onclick="checkPassword()" style="width:100%; padding:10px; background:var(--primary); color:white; border:none; border-radius:10px; font-weight:bold;">Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
            <p id="errorMsg" style="color:red; margin-top:10px; display:none;">Ù‡Û•ÚµÛ•ÛŒÛ•!</p>
        </div>
    </div>

    <div id="loader">
        <div style="font-size:30px; margin-bottom:15px">â³</div>
        <span id="loaderText">Ø®Û•Ø±ÛŒÚ©ÛŒ Ø¦Ø§Ù¾Ù„Û†Ø¯Ú©Ø±Ø¯Ù† Ùˆ Ø³Û•ÛŒÚ¤Ú©Ø±Ø¯Ù†Û•...<br>ØªÚ©Ø§ÛŒÛ• Ø¯Ø§ÛŒÙ…Û•Ø®Û•!</span>
    </div>

    <div class="container" id="mainContent">
        <header>
            <button onclick="toggleAdmin()" class="admin-btn" id="adminBtn">ğŸ”‘ Ø¦Û•Ø¯Ù…ÛŒÙ†</button>
            <h1>ğŸ« Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒ Ú¯Ø²Ù†Ú¯</h1>
            <p style="color:#64748b">Ø¦Û•Ø±Ø´ÛŒÙÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒÛ•Ú©Ø§Ù†</p>
        </header>

        <div class="nav-tabs">
            <button onclick="switchView('archive')" class="tab-btn active" id="btn-archive">Ø¦Û•Ø±Ø´ÛŒÙ</button>
            <button onclick="switchView('teachers')" class="tab-btn" id="btn-teachers">Ù…Ø§Ù…Û†Ø³ØªØ§ÛŒØ§Ù†</button>
        </div>

        <div id="filterHeader" class="filter-header">
            <div class="filter-info">
                <div id="filterAvatarContainer"></div>
                <div>
                    <div style="font-size: 0.9em; color: #666;">Ø¦Û•Ø±Ø´ÛŒÙÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§:</div>
                    <h2 id="filterName" style="margin: 0; font-size: 1.2em;">...</h2>
                </div>
            </div>
            <button onclick="clearFilter()" style="background: #fee2e2; color: #ef4444; border: none; padding: 8px 15px; border-radius: 8px; font-weight: bold; cursor: pointer;">âŒ Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ•</button>
        </div>

        <div class="controls" id="archiveControls">
            <input type="text" class="search-box" id="searchBox" placeholder="Ú¯Û•Ú•Ø§Ù†...">
            <button onclick="openEditor()" class="add-btn">â• Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ Ù†ÙˆÛ</button>
        </div>

        <div class="activities-grid" id="activitiesGrid"></div>
        <div class="teachers-grid" id="teachersGrid" style="display:none;"></div>
    </div>

    <div id="adminDashboard" class="admin-dashboard">
        <div class="admin-sidebar">
            <h2>âš™ï¸ Ø¯Ø§Ø´Ø¨Û†Ø±Ø¯ÛŒ Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†</h2>
            <p>Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª Ø¨Û•Ú•ÛÙˆÛ•Ø¨Û•Ø±</p>
            <button onclick="exitAdmin()" class="btn-logout">Ú†ÙˆÙˆÙ†Û• Ø¯Û•Ø±Û•ÙˆÛ•</button>
        </div>
        
        <div class="admin-content">
            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-number" id="statActivities">0</div>
                    <div class="stat-label">Ú†Ø§Ù„Ø§Ú©ÛŒ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="statTeachers">0</div>
                    <div class="stat-label">Ù…Ø§Ù…Û†Ø³ØªØ§</div>
                </div>
            </div>

            <div class="admin-tabs">
                <button onclick="switchAdminTab('activities')" id="tab-admin-acts" class="admin-tab-btn active">Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒÛŒÛ•Ú©Ø§Ù†</button>
                <button onclick="switchAdminTab('teachers')" id="tab-admin-teach" class="admin-tab-btn">Ø¨Û•Ú•ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§ÛŒØ§Ù†</button>
            </div>

            <div id="adminActivitiesView" class="admin-table-container">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <h3>ğŸ“‹ Ù„ÛŒØ³ØªÛŒ Ù‡Û•Ù…ÙˆÙˆ Ú†Ø§Ù„Ø§Ú©ÛŒÛŒÛ•Ú©Ø§Ù†</h3>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Ú†Ø§Ù„Ø§Ú©ÛŒ</th>
                            <th>Ù…Ø§Ù…Û†Ø³ØªØ§</th>
                            <th>Ø¨Û•Ø±ÙˆØ§Ø±</th>
                            <th>Ú©Ø±Ø¯Ø§Ø±</th>
                        </tr>
                    </thead>
                    <tbody id="adminActivitiesTable"></tbody>
                </table>
            </div>

            <div id="adminTeachersView" class="admin-table-container" style="display:none;">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <h3>ğŸ‘¨â€ğŸ« Ù„ÛŒØ³ØªÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§ÛŒØ§Ù†</h3>
                    <button onclick="openAddTeacherModal()" class="tool-btn primary">â• Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§</button>
                </div>
                <div class="admin-teachers-grid" id="adminTeachersGrid"></div>
            </div>
        </div>
    </div>

    <div class="editor-modal" id="editorModal">
        <div class="editor-header">
            <button onclick="closeEditor()" class="tool-btn danger">Ø¯Ø§Ø®Ø³ØªÙ†</button>
            <div class="editor-tools">
                <button onclick="toggleLayout()" id="btnLayoutChange" class="tool-btn">ğŸ”„ Ú¯Û†Ú•ÛŒÙ†ÛŒ ÙˆÛÙ†Û•</button>
                <button onclick="printReport()" class="tool-btn">ğŸ–¨ï¸ Ù¾Ø±ÛŒÙ†Øª</button>
                <button onclick="downloadAsImage()" class="tool-btn">â¬‡ï¸ Ø¯Ø§Ø¨Û•Ø²Ø§Ù†Ø¯Ù†</button>
                <button onclick="saveToArchive()" id="btnSaveArchive" class="tool-btn primary">ğŸ’¾ Ø³Û•ÛŒÚ¤Ú©Ø±Ø¯Ù†</button>
            </div>
        </div>

        <div class="paper-wrapper">
            <div class="a4-paper" id="reportPaper">
                <div class="rep-header">
                    <div><h1 style="font-size:22px; margin:0; color:black;">Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒ Ú¯Ø²Ù†Ú¯</h1><p style="margin:5px 0 0 0; font-size:14px; color:#555;">ÙÛ†Ø±Ù…ÛŒ Ú•Ø§Ù¾Û†Ø±ØªÛŒ Ú†Ø§Ù„Ø§Ú©ÛŒ</p></div>
                    <div class="rep-logo">LOGO</div>
                </div>
                <div class="rep-form-grid">
                    <div class="form-item"><label>Ø¨Ø§Ø¨Û•Øª / Ú†Ø§Ù„Ø§Ú©ÛŒ</label><input type="text" class="form-input" id="inpName" placeholder="Ø¨Ù†ÙˆÙˆØ³Û•..."></div>
                    <div class="form-item"><label>Ù„ÛŒÚ˜Ù†Û•</label><input type="text" class="form-input" id="inpComm" placeholder="Ø¨Ù†ÙˆÙˆØ³Û•..."></div>
                    <div class="form-item">
                        <label>Ù…Ø§Ù…Û†Ø³ØªØ§ / Ø³Û•Ø±Ù¾Û•Ø±Ø´ØªÛŒØ§Ø±</label>
                        <select class="form-input" id="inpTeacher">
                            <option value="">Ù†Ø§ÙˆÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§ Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•...</option>
                        </select>
                    </div>
                    <div class="form-item"><label>Ø¨Û•Ø±ÙˆØ§Ø±</label><input type="date" class="form-input" id="inpDate" style="text-align:right;"></div>
                </div>
                <div class="rep-images layout-landscape" id="imgContainer">
                    <div class="img-slot" onclick="triggerFile(0)"><img id="img0"><div class="placeholder-text">ÙˆÛÙ†Û•ÛŒ Ù¡<br>ğŸ“¸</div></div>
                    <div class="img-slot" onclick="triggerFile(1)"><img id="img1"><div class="placeholder-text">ÙˆÛÙ†Û•ÛŒ Ù¢<br>ğŸ“¸</div></div>
                    <div class="img-slot" onclick="triggerFile(2)"><img id="img2"><div class="placeholder-text">ÙˆÛÙ†Û•ÛŒ Ù£<br>ğŸ“¸</div></div>
                    <div class="img-slot" onclick="triggerFile(3)"><img id="img3"><div class="placeholder-text">ÙˆÛÙ†Û•ÛŒ Ù¤<br>ğŸ“¸</div></div>
                </div>
                <input type="file" id="hiddenFileInput" accept="image/*" style="display:none">
                <div class="rep-notes"><label style="font-size:0.9em; font-weight:bold;">ØªÛØ¨ÛŒÙ†ÛŒ Ùˆ ÙˆØ±Ø¯Û•Ú©Ø§Ø±ÛŒ:</label><textarea id="inpNotes" placeholder="Ù„ÛØ±Û• Ø¨Ù†ÙˆÙˆØ³Û•..."></textarea></div>
                <div class="rep-footer"><p class="school-name-footer">Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒ Ú¯Ø²Ù†Ú¯ÛŒ Ø¦ÛŒÙ†Ú¯Ù„ÛŒØ²ÛŒ Ù†Ø§Ø­Ú©ÙˆÙ…ÛŒ</p></div>
            </div>
        </div>
    </div>

    <div class="simple-modal" id="teacherModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:4000; align-items:center; justify-content:center;">
        <div class="simple-modal-content" style="background:white; padding:20px; border-radius:10px; width:90%; max-width:400px;">
            <h3>Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§</h3>
            <input type="text" id="newTeacherName" style="width:100%; padding:10px; margin:15px 0; border:1px solid #ddd; border-radius:8px;" placeholder="Ù†Ø§ÙˆÛŒ Ø³ÛŒØ§Ù†ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§...">
            <button onclick="saveNewTeacher()" class="tool-btn primary" style="width:100%;">Ø³Û•ÛŒÚ¤Ú©Ø±Ø¯Ù†</button>
            <button onclick="document.getElementById('teacherModal').style.display='none'" class="tool-btn danger" style="width:100%; margin-top:10px;">Ø¯Ø§Ø®Ø³ØªÙ†</button>
        </div>
    </div>

    <div class="simple-modal" id="photoModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:4000; align-items:center; justify-content:center;">
        <div class="simple-modal-content" style="background:white; padding:20px; border-radius:10px; width:90%; max-width:400px;">
            <h3>Ú¯Û†Ú•ÛŒÙ†ÛŒ ÙˆÛÙ†Û•ÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§</h3>
            <input type="file" id="teacherPhotoInput" accept="image/*" style="display:none" onchange="handleTeacherPhotoSelect(this)">
            <button onclick="document.getElementById('teacherPhotoInput').click()" class="tool-btn" style="width:100%; margin-bottom:10px;">ğŸ“‚ Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ ÙˆÛÙ†Û•</button>
            <button onclick="document.getElementById('photoModal').style.display='none'" class="tool-btn danger" style="width:100%;">Ø¯Ø§Ø®Ø³ØªÙ†</button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore, collection, addDoc, deleteDoc, doc, onSnapshot, query, orderBy, updateDoc, where, getDocs, writeBatch } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        
        const IMGBB_API_KEY = "0792200cd18a10eadeeccf373d03e4f7"; 

        const firebaseConfig = {
            apiKey: "AIzaSyAr_JHCa5BbM5RJ9KCp0IBom1rdAgVX4CM",
            authDomain: "gzng-f4273.firebaseapp.com",
            projectId: "gzng-f4273",
            storageBucket: "gzng-f4273.firebasestorage.app",
            messagingSenderId: "417779309632",
            appId: "1:417779309632:web:6ed119d26baa35822cd3a5",
            measurementId: "G-B6V0CHGQV6"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const activitiesRef = collection(db, "activities");
        const teachersRef = collection(db, "teachers");

        let allActivities = [];
        let allTeachers = [];
        window.localFiles = [null, null, null, null]; 
        window.currentSlot = 0;
        let teacherPhotoTarget = null;
        let currentFilter = null;

        // Load Data
        onSnapshot(query(activitiesRef, orderBy("date", "desc")), (snapshot) => {
            allActivities = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
            renderApp();
            if (document.getElementById('adminDashboard').style.display === 'block') {
                renderAdminDashboard();
            }
        });

        onSnapshot(teachersRef, (snapshot) => {
            allTeachers = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
            updateTeacherDropdown();
            renderApp();
            if (document.getElementById('adminDashboard').style.display === 'block') {
                renderAdminDashboard();
            }
        });

        // Ø¦Û•Ù… ÙÛ•Ù†Ú©Ø´Ù†Û• Ø²Û†Ø± Ú¯Ø±Ù†Ú¯Û•: Ù„ÛŒØ³ØªÛ•Ú©Û• Ù¾Ú• Ø¯Û•Ú©Ø§ØªÛ•ÙˆÛ•
        function updateTeacherDropdown() {
            const select = document.getElementById('inpTeacher');
            const currentVal = select.value;
            select.innerHTML = '<option value="">Ù†Ø§ÙˆÛŒ Ù…Ø§Ù…Û†Ø³ØªØ§ Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•...</option>';
            allTeachers.forEach(t => {
                const opt = document.createElement('option');
                opt.value = t.name;
                opt.textContent = t.name;
                select.appendChild(opt);
            });
            if(currentVal) select.value = currentVal;
        }

        function renderApp() {
            if(currentFilter) {
                renderFilteredView();
                return;
            }

            const grid = document.getElementById('activitiesGrid');
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const displayList = allActivities.filter(a => 
                a.name.toLowerCase().includes(searchTerm) || a.teacher.toLowerCase().includes(searchTerm)
            );

            grid.innerHTML = displayList.map(act => `
                <div class="activity-card">
                    <div class="card-header">
                        <h3>${act.name}</h3>
                        <div class="card-meta"><span>ğŸ‘¤ ${act.teacher}</span><span>ğŸ“… ${act.date}</span></div>
                    </div>
                    <div class="card-imgs">
                        ${act.images ? act.images.slice(0,4).map(url => `<img src="${url}">`).join('') : ''}
                    </div>
                    <div class="card-actions">
                        <button class="action-btn btn-view" onclick="viewSavedReport('${act.id}')">ğŸ“„ Ú•Ø§Ù¾Û†Ø±Øª</button>
                    </div>
                </div>
            `).join('');
            
            renderTeachersList();
        }

        function renderTeachersList() {
            const tGrid = document.getElementById('teachersGrid');
            const tMap = {};
            allActivities.forEach(a => { const t = a.teacher.trim(); tMap[t] = (tMap[t] || 0) + 1; });
            allTeachers.forEach(t => { if (!tMap[t.name]) tMap[t.name] = 0; });

            const sortedTeachers = Object.keys(tMap).sort((a, b) => tMap[b] - tMap[a]);

            tGrid.innerHTML = sortedTeachers.map(tName => {
                const meta = allTeachers.find(t => t.name === tName);
                const photoUrl = meta && meta.photo ? meta.photo : null;
                return `
                <div class="teacher-card" onclick="filterByTeacher('${tName}')">
                    <div class="teacher-img-wrapper">
                        ${photoUrl ? `<img src="${photoUrl}" class="teacher-img">` : `<div class="teacher-placeholder">ğŸ‘¤</div>`}
                    </div>
                    <div class="teacher-name">${tName}</div>
                    <div class="teacher-stats">ğŸ“Š ${tMap[tName]} Ú†Ø§Ù„Ø§Ú©ÛŒ</div>
                </div>
            `}).join('');
        }

        window.filterByTeacher = (tName) => {
            currentFilter = tName;
            switchView('archive'); 
        };

        function renderFilteredView() {
            const grid = document.getElementById('activitiesGrid');
            document.getElementById('archiveControls').style.display = 'none';
            document.getElementById('filterHeader').style.display = 'flex';
            document.getElementById('filterName').innerText = currentFilter;
            
            const meta = allTeachers.find(t => t.name === currentFilter);
            const photoUrl = meta && meta.photo ? meta.photo : null;
            document.getElementById('filterAvatarContainer').innerHTML = photoUrl ? 
                `<img src="${photoUrl}" class="filter-avatar">` : 
                `<div class="filter-placeholder">ğŸ‘¤</div>`;

            const filteredList = allActivities.filter(a => a.teacher === currentFilter);
            
            grid.innerHTML = filteredList.map(act => `
                <div class="activity-card">
                    <div class="card-header">
                        <h3>${act.name}</h3>
                        <div class="card-meta"><span>ğŸ“… ${act.date}</span></div>
                    </div>
                    <div class="card-imgs">
                        ${act.images ? act.images.slice(0,4).map(url => `<img src="${url}">`).join('') : ''}
                    </div>
                    <div class="card-actions">
                        <button class="action-btn btn-view" onclick="viewSavedReport('${act.id}')">ğŸ“„ Ú•Ø§Ù¾Û†Ø±Øª</button>
                    </div>
                </div>
            `).join('');
            
            if(filteredList.length === 0) grid.innerHTML = '<p style="text-align:center; grid-column:1/-1; margin-top:50px;">Ù‡ÛŒÚ† Ú†Ø§Ù„Ø§Ú©ÛŒÛŒÛ•Ú© Ù†ÛŒÛŒÛ•.</p>';
        }

        window.clearFilter = () => {
            currentFilter = null;
            document.getElementById('filterHeader').style.display = 'none';
            document.getElementById('archiveControls').style.display = 'flex';
            renderApp();
        };

        // --- ADMIN DASHBOARD LOGIC ---
        window.renderAdminDashboard = () => {
            document.getElementById('statActivities').innerText = allActivities.length;
            const uniqueTeachers = new Set(allActivities.map(a => a.teacher.trim()));
            document.getElementById('statTeachers').innerText = Math.max(uniqueTeachers.size, allTeachers.length);

            const tableBody = document.getElementById('adminActivitiesTable');
            tableBody.innerHTML = allActivities.map(act => `
                <tr>
                    <td>${act.name}</td>
                    <td>${act.teacher}</td>
                    <td>${act.date}</td>
                    <td>
                        <button class="btn-admin-action btn-view" onclick="viewSavedReport('${act.id}')">ğŸ“„</button>
                        <button class="btn-admin-action btn-delete-red" onclick="deleteItem('${act.id}')">ğŸ—‘ï¸</button>
                    </td>
                </tr>
            `).join('');

            const adminTGrid = document.getElementById('adminTeachersGrid');
            const tMap = {};
            allActivities.forEach(a => { const t = a.teacher.trim(); tMap[t] = (tMap[t] || 0) + 1; });
            allTeachers.forEach(t => { if (!tMap[t.name]) tMap[t.name] = 0; });
            
            const allTeacherNames = Object.keys(tMap);
            
            adminTGrid.innerHTML = allTeacherNames.map(tName => {
                const meta = allTeachers.find(t => t.name === tName);
                const photoUrl = meta && meta.photo ? meta.photo : null;
                const teacherId = meta ? meta.id : '';
                return `
                <div class="admin-teacher-card">
                    <div class="teacher-img-wrapper" style="width:60px; height:60px; font-size:24px;">
                        ${photoUrl ? `<img src="${photoUrl}" class="teacher-img">` : `<div class="teacher-placeholder">ğŸ‘¤</div>`}
                    </div>
                    <div style="font-weight:bold;">${tName}</div>
                    <div style="font-size:0.8em; color:#666;">${tMap[tName]} Ú†Ø§Ù„Ø§Ú©ÛŒ</div>
                    <div style="margin-top:10px; border-top:1px solid #eee; padding-top:10px; display:flex; justify-content:center;">
                        <button class="btn-admin-action btn-edit-blue" onclick="editTeacherName('${tName}', '${teacherId}')">âœï¸</button>
                        <button class="btn-admin-action" style="background:#dbeafe; color:#2563eb;" onclick="openPhotoModal('${tName}')">ğŸ“·</button>
                        <button class="btn-admin-action btn-delete-red" onclick="deleteTeacherProfile('${tName}')">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `}).join('');
        }

        window.switchAdminTab = (tab) => {
            if(tab === 'activities') {
                document.getElementById('adminActivitiesView').style.display = 'block';
                document.getElementById('adminTeachersView').style.display = 'none';
                document.getElementById('tab-admin-acts').classList.add('active');
                document.getElementById('tab-admin-teach').classList.remove('active');
            } else {
                document.getElementById('adminActivitiesView').style.display = 'none';
                document.getElementById('adminTeachersView').style.display = 'block';
                document.getElementById('tab-admin-acts').classList.remove('active');
                document.getElementById('tab-admin-teach').classList.add('active');
            }
        };

        // --- ImgBB Auto Upload Logic ---
        async function uploadToImgBB(file) {
            const formData = new FormData();
            formData.append("image", file);
            const response = await fetch(`https://api.imgbb.com/1/upload?key=${IMGBB_API_KEY}`, { method: "POST", body: formData });
            const result = await response.json();
            if (result.success) return result.data.url; else throw new Error("ImgBB Upload Failed");
        }

        window.saveToArchive = async () => {
            const name = document.getElementById('inpName').value;
            const teacher = document.getElementById('inpTeacher').value.trim(); 
            if(!name || !teacher) { alert("ØªÚ©Ø§ÛŒÛ• Ù†Ø§Ùˆ Ùˆ Ù…Ø§Ù…Û†Ø³ØªØ§ Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•!"); return; }

            // Validation: Ensure teacher exists in the list (Security check)
            if (!allTeachers.find(t => t.name === teacher)) {
                alert("ØªÚ©Ø§ÛŒÛ• Ù†Ø§ÙˆÛÚ© Ù‡Û•ÚµØ¨Ú˜ÛØ±Û• Ù„Û• Ù„ÛŒØ³ØªÛ•Ú©Û•Ø¯Ø§ Ø¨ÛØª!");
                return;
            }

            const loader = document.getElementById('loader');
            const loaderText = document.getElementById('loaderText');
            loader.style.display = 'flex';

            try {
                let imageUrls = [];
                for(let i=0; i<4; i++) {
                    const file = window.localFiles[i];
                    if(file) {
                        loaderText.innerText = `ÙˆÛÙ†Û•ÛŒ ${i+1} Ø¦Ø§Ù¾Ù„Û†Ø¯ Ø¯Û•Ú©Ø±ÛØª...`;
                        const url = await uploadToImgBB(file);
                        imageUrls.push(url);
                    }
                }

                loaderText.innerText = "ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù†...";
                await addDoc(activitiesRef, { 
                    name: name, committee: document.getElementById('inpComm').value, 
                    teacher: teacher, date: document.getElementById('inpDate').value, 
                    notes: document.getElementById('inpNotes').value, 
                    images: imageUrls, createdAt: new Date() 
                });

                loader.style.display = 'none'; 
                alert("âœ… Ø³Û•ÛŒÚ¤ Ú©Ø±Ø§!"); 
                closeEditor();
            } catch(err) { 
                loader.style.display = 'none'; 
                alert("Ù‡Û•ÚµÛ•: " + err.message); 
            }
        };

        // --- Editor Logic ---
        
        // This function opens the editor for ADDING new content (Public)
        window.openEditor = () => {
            // Reset fields
            document.getElementById('inpName').value = '';
            document.getElementById('inpComm').value = '';
            document.getElementById('inpTeacher').value = '';
            document.getElementById('inpDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('inpNotes').value = '';
            window.localFiles = [null, null, null, null];
            for(let i=0; i<4; i++) {
                document.getElementById('img'+i).src = '';
                document.getElementById('img'+i).parentElement.classList.remove('has-img');
            }
            updateTeacherDropdown(); 
            
            // Enable Inputs & Show Buttons for NEW entries
            enableEditorInputs(true);
            document.getElementById('btnSaveArchive').style.display = 'inline-block';
            document.getElementById('btnLayoutChange').style.display = 'inline-block';
            
            document.getElementById('editorModal').classList.add('active');
        };
        
        window.closeEditor = () => document.getElementById('editorModal').classList.remove('active');
        
        window.triggerFile = (index) => { 
            // Prevent file trigger if inputs are disabled (Read Only Mode)
            if(document.getElementById('inpName').disabled) return;
            window.currentSlot = index; 
            document.getElementById('hiddenFileInput').click(); 
        };
        
        document.getElementById('hiddenFileInput').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if(file) {
                window.localFiles[window.currentSlot] = file;
                const reader = new FileReader();
                reader.onload = (ev) => {
                    const imgEl = document.getElementById('img' + window.currentSlot);
                    imgEl.src = ev.target.result; 
                    imgEl.parentElement.classList.add('has-img');
                };
                reader.readAsDataURL(file);
            }
            e.target.value = '';
        });

        window.toggleLayout = () => {
            const c = document.getElementById('imgContainer');
            if(c.classList.contains('layout-landscape')) { c.classList.remove('layout-landscape'); c.classList.add('layout-portrait'); } 
            else { c.classList.remove('layout-portrait'); c.classList.add('layout-landscape'); }
        };

        function enableEditorInputs(enable) {
            const ids = ['inpName', 'inpComm', 'inpTeacher', 'inpDate', 'inpNotes'];
            ids.forEach(id => {
                document.getElementById(id).disabled = !enable;
            });
            document.getElementById('imgContainer').style.cursor = enable ? 'pointer' : 'default';
        }

        window.viewSavedReport = (id) => {
            const act = allActivities.find(a => a.id === id);
            if(!act) return;
            
            document.getElementById('editorModal').classList.add('active');

            document.getElementById('inpName').value = act.name;
            document.getElementById('inpComm').value = act.committee || '';
            const select = document.getElementById('inpTeacher');
            
            // Ensure option exists (even if deleted later) for display purposes
            if (![...select.options].some(o => o.value === act.teacher)) {
                const opt = document.createElement('option');
                opt.value = act.teacher;
                opt.innerText = act.teacher;
                select.appendChild(opt);
            }
            select.value = act.teacher;
            document.getElementById('inpDate').value = act.date;
            document.getElementById('inpNotes').value = act.notes || '';
            
            for(let i=0; i<4; i++) {
                const imgEl = document.getElementById('img'+i);
                if(act.images && act.images[i]) { 
                    imgEl.src = act.images[i]; 
                    imgEl.parentElement.classList.add('has-img'); 
                } else {
                    imgEl.src = '';
                    imgEl.parentElement.classList.remove('has-img');
                }
            }

            // Read Only for View Mode (unless Admin)
            const isAdmin = document.getElementById('adminDashboard').style.display === 'block';

            if(isAdmin) {
                enableEditorInputs(true);
                document.getElementById('btnSaveArchive').style.display = 'inline-block'; 
                document.getElementById('btnLayoutChange').style.display = 'inline-block';
            } else {
                enableEditorInputs(false);
                document.getElementById('btnSaveArchive').style.display = 'none';
                document.getElementById('btnLayoutChange').style.display = 'none';
            }
        };

        window.deleteItem = async (id) => { if(confirm("Ø¯ÚµÙ†ÛŒØ§ÛŒØªØŸ")) await deleteDoc(doc(db, "activities", id)); };
        
        // Admin Teacher Logic
        window.openAddTeacherModal = () => { 
            document.getElementById('newTeacherName').value = ''; 
            document.getElementById('teacherModal').style.display = 'flex'; 
        };
        
        window.saveNewTeacher = async () => {
            const name = document.getElementById('newTeacherName').value.trim();
            if(!name) return;
            if(allTeachers.some(t => t.name === name)) { alert("Ø¦Û•Ù… Ù†Ø§ÙˆÛ• Ù‡Û•ÛŒÛ•!"); return; }
            
            await addDoc(teachersRef, { name: name, photo: "" });
            document.getElementById('teacherModal').style.display = 'none';
            alert("Ù…Ø§Ù…Û†Ø³ØªØ§ Ø²ÛŒØ§Ø¯ Ú©Ø±Ø§.");
        };

        window.editTeacherName = async (oldName, id) => {
            if(!id) return;
            const newName = prompt("Ù†Ø§ÙˆÛŒ Ù†ÙˆÛ Ø¨Ù†ÙˆÙˆØ³Û•:", oldName);
            if(newName && newName !== oldName) {
                document.getElementById('loader').style.display = 'flex';
                document.getElementById('loaderText').innerText = "Ù†Ø§Ùˆ Ø¯Û•Ú¯Û†Ú•Ø¯Ø±ÛØª...";
                try {
                    const batch = writeBatch(db);
                    const teacherRef = doc(db, "teachers", id);
                    batch.update(teacherRef, { name: newName });
                    const q = query(activitiesRef, where("teacher", "==", oldName));
                    const querySnapshot = await getDocs(q);
                    querySnapshot.forEach((doc) => { batch.update(doc.ref, { teacher: newName }); });
                    await batch.commit();
                    alert("Ù†Ø§Ùˆ Ù†ÙˆÛÚ©Ø±Ø§ÛŒÛ•ÙˆÛ•!");
                } catch(e) { alert("Ù‡Û•ÚµÛ•: " + e.message); } 
                finally { document.getElementById('loader').style.display = 'none'; }
            }
        };

        window.deleteTeacherProfile = async (tName) => {
            if(!confirm(`Ø¯ÚµÙ†ÛŒØ§ÛŒØª Ù„Û• Ø³Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ Ù¾Ø±Û†ÙØ§ÛŒÙ„ÛŒ "${tName}"ØŸ`)) return;
            const meta = allTeachers.find(t => t.name === tName);
            if(meta) await deleteDoc(doc(db, "teachers", meta.id));
        };
        window.openPhotoModal = (tName) => {
            teacherPhotoTarget = tName;
            document.getElementById('photoModal').style.display = 'flex';
        };
        window.handleTeacherPhotoSelect = async (input) => {
            const file = input.files[0];
            if(!file) return;
            document.getElementById('loader').style.display = 'flex';
            document.getElementById('photoModal').style.display = 'none';
            try {
                const url = await uploadToImgBB(file);
                const meta = allTeachers.find(t => t.name === teacherPhotoTarget);
                if(meta) await updateDoc(doc(db, "teachers", meta.id), { photo: url });
                else await addDoc(teachersRef, { name: teacherPhotoTarget, photo: url });
                alert("ÙˆÛÙ†Û•Ú©Û• Ú¯Û†Ú•Ø¯Ø±Ø§!");
            } catch(e) { alert("Ú©ÛØ´Û•: " + e.message); }
            finally { document.getElementById('loader').style.display = 'none'; input.value = ''; }
        };

        window.switchView = (v) => {
            document.getElementById('activitiesGrid').style.display = v==='archive'?'grid':'none';
            document.getElementById('archiveControls').style.display = v==='archive'?'flex':'none';
            document.getElementById('teachersGrid').style.display = v==='teachers'?'grid':'none';
            document.getElementById('btn-archive').classList.toggle('active', v==='archive');
            document.getElementById('btn-teachers').classList.toggle('active', v==='teachers');
            
            if (v === 'archive') {
                currentFilter = null;
                document.getElementById('filterHeader').style.display = 'none';
                renderApp();
            }
        };
        document.getElementById('searchBox').addEventListener('input', renderApp);
        
        window.renderApp = renderApp;
        window.renderAdminDashboard = renderAdminDashboard;
    </script>

    <script>
        function checkPassword() {
            if(document.getElementById('sitePassword').value === "2526") { 
                document.getElementById('securityOverlay').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
            } else { document.getElementById('errorMsg').style.display = 'block'; }
        }
        
        function toggleAdmin() {
            if(document.getElementById('adminDashboard').style.display === 'block') {
                exitAdmin();
            } else {
                if(prompt("Ù¾Ø§Ø³Û†Ø±Ø¯ÛŒ Ø¦Û•Ø¯Ù…ÛŒÙ†:") === "2324") {
                    document.getElementById('mainContent').style.display = 'none';
                    document.getElementById('adminDashboard').style.display = 'block';
                    window.renderAdminDashboard();
                } else alert("Ù‡Û•ÚµÛ•ÛŒÛ•!");
            }
        }

        function exitAdmin() {
            document.getElementById('adminDashboard').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
        }
    </script>
</body>
</html>
